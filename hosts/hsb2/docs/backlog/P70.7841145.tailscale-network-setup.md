# Tailscale & Network Setup for hsb2

**Host**: hsb2
**Priority**: P70
**Status**: Backlog
**Created**: 2026-02-10

---

## Problem

hsb2 runs Raspbian (not NixOS), so cannot be configured declaratively via nixcfg. Need manual Tailscale installation and network setup to integrate with fleet.

## Solution

1. Install Tailscale on Raspbian manually
2. Join headscale network
3. Test LAN/Tailscale connectivity
4. Document manual setup steps for future reference

## Implementation

- [ ] SSH to hsb2: `ssh mba@192.168.1.95`
- [ ] Install Tailscale: `curl -fsSL https://tailscale.com/install.sh | sh`
- [ ] Generate auth key from csb0: `ssh mba@cs0.barta.cm -p 2222 "docker exec headscale headscale preauthkeys create --user markus --reusable --expiration 87600h"`
- [ ] Join network: `sudo tailscale up --login-server https://hs.barta.cm --authkey <KEY>`
- [ ] Verify connectivity: `tailscale status`
- [ ] Test from another host: `ssh mba@hsb2.ts.barta.cm`
- [ ] Add hsb2 to `modules/shared/ssh-fleet.nix` (after Tailscale works)
- [ ] Add hsb2 fish/bash alias
- [ ] Document in `hosts/hsb2/README.md`

## Acceptance Criteria

- [ ] hsb2 appears in `tailscale status` on all nodes
- [ ] Can SSH via `ssh hsb2.ts.barta.cm`
- [ ] LAN connection still works (192.168.1.95)
- [ ] Documentation updated

## Notes

- hsb2 is ARMv6l (512MB RAM) - keep Tailscale config minimal
- WiFi-only (no ethernet) - ensure stable connection before setup
- Manual setup means this host won't benefit from declarative config updates
