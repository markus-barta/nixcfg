# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                     STARSHIP PROMPT - imac0 (Light Gray)                     ║
# ╚══════════════════════════════════════════════════════════════════════════════╝
#
# Theme: lightGray (Workstation - Home)
# Generated from: modules/shared/theme-palettes.nix
#
# Features:
#   - Powerline gradient (light gray spectrum)
#   - Root alert (red warning segment)
#   - Exit status badge (on error)
#   - Sudo cached indicator
#   - Command duration (> 2s)
#   - Background jobs indicator
#   - Success/error character prompt
#

"$schema" = 'https://starship.rs/config-schema.json'

# ════════════════════════════════════════════════════════════════════════════════
# PROMPT FORMAT
# ════════════════════════════════════════════════════════════════════════════════
#
# Layout:
#   [Root?] ░▒▓ [OS] ▶ [Dir] ▶ [User@Host] ▶ [Jobs?] ▶ [Git] ▶ [Lang] ─── [Status?] [Duration?] [Time] [Sudo?] [Nix]
#   ❯ _
#

format = """
${custom.root_alert}\
[░▒▓](#e0e2e8)\
$os\
[](bg:#a8aeb8 fg:#e0e2e8)\
$directory\
[](fg:#a8aeb8 bg:#888e98)\
$username\
$hostname\
[](fg:#888e98 bg:#484e58)\
$jobs\
$git_branch\
$git_status\
${custom.gitcount}\
[](fg:#484e58 bg:#303438)\
$nodejs\
$python\
$rust\
$golang\
$php\
$docker_context\
[](fg:#303438)\
$fill\
$status\
$cmd_duration\
[](fg:#242628)\
$time\
[](fg:#242628 bg:#181a1c)\
$sudo\
$nix_shell\
[](fg:#181a1c)\
\n$character"""

# ════════════════════════════════════════════════════════════════════════════════
# ROOT ALERT - Danger segment (only when root)
# ════════════════════════════════════════════════════════════════════════════════

[custom.root_alert]
command = "echo '⚠'"
when = "test $USER = root"
style = "bold fg:#ffffff bg:#e04040"
format = "[$output ]($style)"

# ════════════════════════════════════════════════════════════════════════════════
# OS ICON
# ════════════════════════════════════════════════════════════════════════════════

[os]
disabled = false
style = "bg:#e0e2e8 fg:#181a1c"
format = "[ $symbol ]($style)"

[os.symbols]
Macos = ""
NixOS = ""
Linux = ""

# ════════════════════════════════════════════════════════════════════════════════
# DIRECTORY
# ════════════════════════════════════════════════════════════════════════════════

[directory]
style = "fg:#f0f2f4 bg:#a8aeb8"
format = "[ $path ]($style)"
truncation_length = 0
truncate_to_repo = false
truncation_symbol = "…/"

[directory.substitutions]
"Documents" = "󰈙 "
"Downloads" = " "
"Music" = " "
"Pictures" = " "

# ════════════════════════════════════════════════════════════════════════════════
# USERNAME & HOSTNAME
# ════════════════════════════════════════════════════════════════════════════════

[username]
show_always = true
style_user = "fg:#f0f2f4 bg:#888e98"
style_root = "fg:#e04040 bg:#888e98"
format = '[ $user]($style)'

[hostname]
ssh_only = false
style = "fg:#f0f2f4 bg:#888e98"
format = '[@$hostname ]($style)'

# ════════════════════════════════════════════════════════════════════════════════
# JOBS (Background processes)
# ════════════════════════════════════════════════════════════════════════════════

[jobs]
symbol = "✦"
style = "fg:#c0c8d0 bg:#484e58"
number_threshold = 1
format = '[[ $symbol$number ](fg:#c0c8d0 bg:#484e58)]($style)'

# ════════════════════════════════════════════════════════════════════════════════
# GIT
# ════════════════════════════════════════════════════════════════════════════════

[git_branch]
symbol = ""
style = "bg:#484e58"
format = '[[ $symbol $branch ](fg:#c0c8d0 bg:#484e58)]($style)'

[git_status]
style = "bg:#484e58"
format = '[[($all_status$ahead_behind )](fg:#c0c8d0 bg:#484e58)]($style)'

[custom.gitcount]
command = "git rev-list --count HEAD 2>/dev/null"
when = "git rev-parse --is-inside-work-tree 2>/dev/null"
style = "bg:#484e58"
format = "[[#$output ](fg:#383c40 bg:#484e58)]($style)"

# ════════════════════════════════════════════════════════════════════════════════
# LANGUAGES
# ════════════════════════════════════════════════════════════════════════════════

[nodejs]
symbol = ""
style = "bg:#303438"
format = '[[ $symbol ($version) ](fg:#c0c8d0 bg:#303438)]($style)'

[python]
symbol = ""
style = "bg:#303438"
format = '[[ $symbol ($version) ](fg:#c0c8d0 bg:#303438)]($style)'

[rust]
symbol = ""
style = "bg:#303438"
format = '[[ $symbol ($version) ](fg:#c0c8d0 bg:#303438)]($style)'

[golang]
symbol = ""
style = "bg:#303438"
format = '[[ $symbol ($version) ](fg:#c0c8d0 bg:#303438)]($style)'

[php]
symbol = ""
style = "bg:#303438"
format = '[[ $symbol ($version) ](fg:#c0c8d0 bg:#303438)]($style)'

[docker_context]
symbol = ""
style = "bg:#303438"
format = '[[ $symbol $context ](fg:#c0c8d0 bg:#303438)]($style)'
only_with_files = true

# ════════════════════════════════════════════════════════════════════════════════
# FILL (flexible space between left and right)
# ════════════════════════════════════════════════════════════════════════════════

[fill]
symbol = " "

# ════════════════════════════════════════════════════════════════════════════════
# STATUS (Exit code on error)
# ════════════════════════════════════════════════════════════════════════════════

[status]
disabled = false
style = "bold fg:#f0f0f0 bg:#c04040"
symbol = "✘"
format = '[ $symbol $status ]($style)'

# ════════════════════════════════════════════════════════════════════════════════
# COMMAND DURATION (> 2 seconds)
# ════════════════════════════════════════════════════════════════════════════════

[cmd_duration]
min_time = 2000
style = "fg:#909498"
format = '[ ⏱ $duration]($style)'

# ════════════════════════════════════════════════════════════════════════════════
# TIME
# ════════════════════════════════════════════════════════════════════════════════

[time]
disabled = false
time_format = "%T"
style = "bg:#242628"
format = '[[  $time ](fg:#909498 bg:#242628)]($style)'

# ════════════════════════════════════════════════════════════════════════════════
# SUDO (cached credentials)
# ════════════════════════════════════════════════════════════════════════════════

[sudo]
disabled = false
style = "fg:#f0a868 bg:#181a1c"
symbol = " "
format = '[[$symbol](fg:#f0a868 bg:#181a1c)]($style)'

# ════════════════════════════════════════════════════════════════════════════════
# NIX SHELL
# ════════════════════════════════════════════════════════════════════════════════

[nix_shell]
symbol = ""
style = "bg:#181a1c"
format = '[[ $symbol $state ](fg:#707478 bg:#181a1c)]($style)'

# ════════════════════════════════════════════════════════════════════════════════
# CHARACTER (Prompt on new line)
# ════════════════════════════════════════════════════════════════════════════════

[character]
success_symbol = "[❯](bold fg:#c0c8d0)"
error_symbol = "[✗](bold fg:#c04040)"

