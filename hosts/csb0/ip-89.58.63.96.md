# 89.58.63.96 — csb0 (Cloud Server)

**Role:** Cloud VPS for automation, IoT, and self-hosted services

| Property        | Value                            |
| --------------- | -------------------------------- |
| IPv4 Address    | `89.58.63.96/22`                 |
| Interface       | `ens3`                           |
| Default Gateway | `89.58.60.1`                     |
| DNS Servers     | `46.38.225.230`, `46.38.252.230` |
| Primary Domain  | `cs0.barta.cm`                   |
| Provider        | Netcup VPS 1000 G11              |
| Location        | Vienna (VIE)                     |

## Network Configuration

Static IP configured declaratively in NixOS (`configuration.nix`).
NetworkManager is told to ignore `ens3` - NixOS manages it directly.

### ⚠️ CRITICAL: Subnet is /22, NOT /24!

The Netcup VPS uses a `/22` subnet (89.58.60.0 - 89.58.63.255).
The gateway is at `89.58.60.1`, NOT `89.58.63.1`.

**Incident (2026-01-10)**: Server migration to new IP range.
See [MIGRATION-PLAN-HOKAGE.md](docs/MIGRATION-PLAN-HOKAGE.md) for incident details.

## Services

| Domain             | Service      | Purpose                |
| ------------------ | ------------ | ---------------------- |
| home.barta.cm      | Node-RED     | Automation workflows   |
| mosquitto.barta.cm | Mosquitto    | MQTT broker for IoT    |
| hs.barta.cm        | Headscale    | VPN control (DNS-only) |
| bitwarden.barta.cm | Bitwarden    | Password manager       |
| traefik.barta.cm   | Traefik      | Reverse proxy / SSL    |
| t.me/csb0bot       | Telegram Bot | Notifications          |

## SSH Access

```bash
ssh mba@cs0.barta.cm -p 2222
# or quick connect abbreviation:
csb0
```

## Related

- **csb1** (152.53.64.166): Grafana, InfluxDB fed by this server's MQTT
